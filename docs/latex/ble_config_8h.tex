\doxysection{Referência ao ficheiro ble\+Config.\+h}
\hypertarget{ble_config_8h}{}\label{ble_config_8h}\index{bleConfig.h@{bleConfig.h}}


Declarações relacionadas à configuração do BLE no ESP32.  


{\ttfamily \#include $<$BLEDevice.\+h$>$}\newline
{\ttfamily \#include $<$BLEUtils.\+h$>$}\newline
{\ttfamily \#include $<$BLEServer.\+h$>$}\newline
{\ttfamily \#include $<$BLE2902.\+h$>$}\newline
Diagrama de dependências de inclusão para ble\+Config.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ble_config_8h__incl}
\end{center}
\end{figure}
Este grafo mostra quais são os ficheiros que incluem directamente ou indirectamente este ficheiro\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{ble_config_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ble_config_8h_a4bbd173ed413764eacf17c52a5b4e774}{BLECONFIGS\+\_\+H}}
\item 
\#define \mbox{\hyperlink{ble_config_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\+\_\+\+UUID}}~BLEUUID((uint16\+\_\+t)0x1809)
\item 
\#define \mbox{\hyperlink{ble_config_8h_a59b30314274ba5ab7b26e747323ff56b}{SERVICE\+\_\+\+WIFI\+\_\+\+UUID}}~"{}7be95774-\/8734-\/4f46-\/a326-\/573d290c1e9f"{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Funções}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc}{Iniciar\+BLE}} ()
\begin{DoxyCompactList}\small\item\em Inicializa o serviço BLE com todas as características e inicia o advertising. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ble_config_8h_a9f566969550d007df837c1490bb6316b}{Encerrar\+BLE}} ()
\begin{DoxyCompactList}\small\item\em Encerra a comunicação BLE e libera recursos. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variáveis}
\begin{DoxyCompactItemize}
\item 
volatile bool \mbox{\hyperlink{ble_config_8h_a5affc02c6814932fa2696bac53bc2598}{device\+Connected}}
\end{DoxyCompactItemize}


\doxysubsection{Descrição detalhada}
Declarações relacionadas à configuração do BLE no ESP32. 

Define UUIDs, variáveis globais e funções públicas para controle BLE. Contém os protótipos das funções \doxylink{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc}{Iniciar\+BLE()} e \doxylink{ble_config_8h_a9f566969550d007df837c1490bb6316b}{Encerrar\+BLE()}. 

\doxysubsection{Documentação das macros}
\Hypertarget{ble_config_8h_a4bbd173ed413764eacf17c52a5b4e774}\index{bleConfig.h@{bleConfig.h}!BLECONFIGS\_H@{BLECONFIGS\_H}}
\index{BLECONFIGS\_H@{BLECONFIGS\_H}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{BLECONFIGS\_H}{BLECONFIGS\_H}}
{\footnotesize\ttfamily \label{ble_config_8h_a4bbd173ed413764eacf17c52a5b4e774} 
\#define BLECONFIGS\+\_\+H}

\Hypertarget{ble_config_8h_a445125ee8c34695376c85f10b38844d6}\index{bleConfig.h@{bleConfig.h}!SERVICE\_UUID@{SERVICE\_UUID}}
\index{SERVICE\_UUID@{SERVICE\_UUID}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{SERVICE\_UUID}{SERVICE\_UUID}}
{\footnotesize\ttfamily \label{ble_config_8h_a445125ee8c34695376c85f10b38844d6} 
\#define SERVICE\+\_\+\+UUID~BLEUUID((uint16\+\_\+t)0x1809)}

\Hypertarget{ble_config_8h_a59b30314274ba5ab7b26e747323ff56b}\index{bleConfig.h@{bleConfig.h}!SERVICE\_WIFI\_UUID@{SERVICE\_WIFI\_UUID}}
\index{SERVICE\_WIFI\_UUID@{SERVICE\_WIFI\_UUID}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{SERVICE\_WIFI\_UUID}{SERVICE\_WIFI\_UUID}}
{\footnotesize\ttfamily \label{ble_config_8h_a59b30314274ba5ab7b26e747323ff56b} 
\#define SERVICE\+\_\+\+WIFI\+\_\+\+UUID~"{}7be95774-\/8734-\/4f46-\/a326-\/573d290c1e9f"{}}



\doxysubsection{Documentação das funções}
\Hypertarget{ble_config_8h_a9f566969550d007df837c1490bb6316b}\index{bleConfig.h@{bleConfig.h}!EncerrarBLE@{EncerrarBLE}}
\index{EncerrarBLE@{EncerrarBLE}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{EncerrarBLE()}{EncerrarBLE()}}
{\footnotesize\ttfamily \label{ble_config_8h_a9f566969550d007df837c1490bb6316b} 
void Encerrar\+BLE (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Encerra a comunicação BLE e libera recursos. 

Encerra a comunicação BLE e libera recursos.

Finaliza o serviço BLE e libera os recursos alocados. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00166\ \ \ \ \ BLEDevice::deinit(\textcolor{keyword}{true});}
\DoxyCodeLine{00167\ \}}

\end{DoxyCode}
Este é o diagrama das funções que utilizam esta função\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{ble_config_8h_a9f566969550d007df837c1490bb6316b_icgraph}
\end{center}
\end{figure}
\Hypertarget{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc}\index{bleConfig.h@{bleConfig.h}!IniciarBLE@{IniciarBLE}}
\index{IniciarBLE@{IniciarBLE}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{IniciarBLE()}{IniciarBLE()}}
{\footnotesize\ttfamily \label{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc} 
void Iniciar\+BLE (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Inicializa o serviço BLE com todas as características e inicia o advertising. 

Inicializa o serviço BLE com todas as características e inicia o advertising.

Configura o servidor BLE, cria as características e descritores para temperatura, intervalo de leitura e dados de Wi-\/\+Fi, e inicia o advertising BLE. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ BLEDevice::init(\textcolor{stringliteral}{"{}ThermoGuard"{}});}
\DoxyCodeLine{00118\ \ \ \ \ BLEServer\ *pServer\ =\ BLEDevice::createServer();}
\DoxyCodeLine{00119\ \ \ \ \ pServer-\/>setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_my_server_callbacks}{MyServerCallbacks}}());}
\DoxyCodeLine{00120\ \ \ \ \ BLEService\ *pService\ =\ pServer-\/>createService(\mbox{\hyperlink{ble_config_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\_UUID}});}
\DoxyCodeLine{00121\ \ \ \ \ BLEService\ *pServiceWifi\ =\ pServer-\/>createService(\mbox{\hyperlink{ble_config_8h_a59b30314274ba5ab7b26e747323ff56b}{SERVICE\_WIFI\_UUID}});}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ Temperatura}}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_a0962a981d8b0fee9f4d0af772bdd319e}{TemperaturaDesc}}.setValue(\textcolor{stringliteral}{"{}Temperatura\ lida\ do\ sensor\ em\ celsius"{}});}
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{main_8cpp_addaafdcebe086b82f5e22ac3ba9b50e2}{TemperaturaChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_a0962a981d8b0fee9f4d0af772bdd319e}{TemperaturaDesc}});}
\DoxyCodeLine{00126\ \ \ \ \ pService-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_addaafdcebe086b82f5e22ac3ba9b50e2}{TemperaturaChar}});}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_ab0d48f79db265c260a47817cd61ad676}{SetPointDesc}}.setValue(\textcolor{stringliteral}{"{}Setpoint\ para\ alerta"{}});}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a63b383dcaea1a05aba0d547ed00be2c5}{SetPointChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_ab0d48f79db265c260a47817cd61ad676}{SetPointDesc}});}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a63b383dcaea1a05aba0d547ed00be2c5}{SetPointChar}}.setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_char_callback}{CharCallback}}());}
\DoxyCodeLine{00130\ \ \ \ \ pService-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_a63b383dcaea1a05aba0d547ed00be2c5}{SetPointChar}});}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{comment}{//\ Intervalo}}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_a6631abdf9342c486ac682344cdb0baba}{IntervaloDesc}}.setValue(\textcolor{stringliteral}{"{}Tempo\ entre\ leitura\ em\ minutos"{}});}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a3811803b51148d50b73aa58696bc9445}{IntervaloChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_a6631abdf9342c486ac682344cdb0baba}{IntervaloDesc}});}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a3811803b51148d50b73aa58696bc9445}{IntervaloChar}}.setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_char_callback}{CharCallback}}());}
\DoxyCodeLine{00135\ \ \ \ \ pService-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_a3811803b51148d50b73aa58696bc9445}{IntervaloChar}});}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Wifi}}
\DoxyCodeLine{00138\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_a796c95a5f393a0b35df0662a34d87793}{WifiNomeDesc}}.setValue(\textcolor{stringliteral}{"{}Nome\ WiFi"{}});}
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a9c75ccaf0b3424e327cd58ed3bdcdd5c}{WifiNomeChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_a796c95a5f393a0b35df0662a34d87793}{WifiNomeDesc}});}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a9c75ccaf0b3424e327cd58ed3bdcdd5c}{WifiNomeChar}}.setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_char_callback}{CharCallback}}());}
\DoxyCodeLine{00141\ \ \ \ \ pServiceWifi-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_a9c75ccaf0b3424e327cd58ed3bdcdd5c}{WifiNomeChar}});}
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_a4393c035390ec7c37282009cedb4d801}{WifiSenhaDesc}}.setValue(\textcolor{stringliteral}{"{}Senha\ WiFi"{}});}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a84b6c8c5171c5c7911a016cd906ead76}{WifiSenhaChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_a4393c035390ec7c37282009cedb4d801}{WifiSenhaDesc}});}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a84b6c8c5171c5c7911a016cd906ead76}{WifiSenhaChar}}.setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_char_callback}{CharCallback}}());}
\DoxyCodeLine{00145\ \ \ \ \ pServiceWifi-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_a84b6c8c5171c5c7911a016cd906ead76}{WifiSenhaChar}});}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{comment}{//\ Telefone}}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{bleconfig_8cpp_a1cbe1235606de50d263b23fd87a27f1f}{TelefoneDesc}}.setValue(\textcolor{stringliteral}{"{}Numero\ de\ telefone"{}});}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a11cbedf7d36e986b5fc9d9388bbe7784}{TelefoneChar}}.addDescriptor(\&\mbox{\hyperlink{bleconfig_8cpp_a1cbe1235606de50d263b23fd87a27f1f}{TelefoneDesc}});}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{main_8cpp_a11cbedf7d36e986b5fc9d9388bbe7784}{TelefoneChar}}.setCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_char_callback}{CharCallback}}());}
\DoxyCodeLine{00150\ \ \ \ \ pServiceWifi-\/>addCharacteristic(\&\mbox{\hyperlink{main_8cpp_a11cbedf7d36e986b5fc9d9388bbe7784}{TelefoneChar}});}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ pService-\/>start();}
\DoxyCodeLine{00153\ \ \ \ \ pServiceWifi-\/>start();}
\DoxyCodeLine{00154\ \ \ \ \ BLEAdvertising\ *pAdvertising\ =\ BLEDevice::getAdvertising();}
\DoxyCodeLine{00155\ \ \ \ \ pAdvertising-\/>addServiceUUID(\mbox{\hyperlink{ble_config_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\_UUID}});}
\DoxyCodeLine{00156\ \ \ \ \ pAdvertising-\/>addServiceUUID(\mbox{\hyperlink{ble_config_8h_a59b30314274ba5ab7b26e747323ff56b}{SERVICE\_WIFI\_UUID}});}
\DoxyCodeLine{00157\ \ \ \ \ pServer-\/>getAdvertising()-\/>start();}
\DoxyCodeLine{00158\ \}}

\end{DoxyCode}
Grafo de chamadas desta função\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc_cgraph}
\end{center}
\end{figure}
Este é o diagrama das funções que utilizam esta função\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{ble_config_8h_a5c0efe429f3a4ddda46992fd1c9e08fc_icgraph}
\end{center}
\end{figure}


\doxysubsection{Documentação das variáveis}
\Hypertarget{ble_config_8h_a5affc02c6814932fa2696bac53bc2598}\index{bleConfig.h@{bleConfig.h}!deviceConnected@{deviceConnected}}
\index{deviceConnected@{deviceConnected}!bleConfig.h@{bleConfig.h}}
\doxysubsubsection{\texorpdfstring{deviceConnected}{deviceConnected}}
{\footnotesize\ttfamily \label{ble_config_8h_a5affc02c6814932fa2696bac53bc2598} 
volatile bool device\+Connected\hspace{0.3cm}{\ttfamily [extern]}}

